@import 'src/index.scss';

$PREF: 'c-table';

.#{$PREF}-ctr {
  @extend .no-scrollbar;
  
  background-color: $white;
  border: 1px $gray-5 solid;
  border-radius: 4px;
  overflow: scroll;

  ::-webkit-scrollbar { background: transparent; display: none !important; }
}

.#{$PREF} {
  border-collapse: collapse;
  border-spacing: $xs $xxs;
  width: max-content;

  // ## TABLE ROW (HEADER AND BODY)

  thead > tr { border-bottom: 1px $gray-4 solid; }

  tbody > tr {
    border-bottom: 1px $gray-5 solid;
    cursor: pointer;

    &:last-of-type { border-bottom: none; }

    @include HOVER { background-color: $gray-6; }
  }

  // ## TABLE HEADER CELL

  th {
    @extend .meta;

    color: $gray-3;
    text-align: left;
    vertical-align: middle;
  }
  
  // ## TABLE CELL

  td {
    max-width: $xxl * 3;
    vertical-align: text-top;
    
    .#{$PREF}-select { margin-bottom: 2px; }
  }

  // ## TABLE CELL (HEADER AND CELL)

  th,
  td { @extend .body--3; margin: 0; padding: $xs $md $xs $xs; }
}

.#{$PREF}-td {
  &--multiple-select { @extend %flex-w; }

  &--multiple-choice > span,
  &--multiple-select > span {
    @extend .body--3;

    background-color: rgba($color: $orange-1, $alpha: 0.25);
    border-radius: $sm;
    color: $black;
    margin: 0 2px $xxs 0;
    padding-left: 6px;
    padding-right: 6px;
    width: fit-content;
  }
}

.#{$PREF}-select {
  background-color: $white;
  cursor: default;
  left: 0;
  padding: $xs !important;
  position: sticky;
  z-index: 2;

  // This is equivalent to just having border-right, except now, when we scroll
  // the table the border stays! Previously, it wasn't because of the
  // border-collapse property set to collapse on the table element.
  &::after {
    border-right: 1px solid $gray-5;
    content: '';
    height: 100%;
    position: absolute;
    right: 0;
    top: 0;
  }
}

.#{$PREF}-select > div {
  background-color: $white;
  border: 1px $gray-4 solid;
  border-radius: 2px;
  cursor: pointer;
  height: 16px;
  margin: 0;
  width: 16px;
}

.#{$PREF}-select--active > div { background-color: $gray-4; }
